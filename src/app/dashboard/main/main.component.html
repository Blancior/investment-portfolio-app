<app-navbar></app-navbar>
<div class="container main-container">
  <div class="row">
    <div class="col-md-4 indicator">
      <span class="text-area">
        You made {{dashboard.numberOfTrades}} trades
      </span>
    </div>
    <div class="col-md-4 indicator">
      <span class="text-area">
        Invested money:   {{dashboard.totalInv}}$
      </span>
    </div>
    <div class="col-md-4">
      <span class="text-area">
        <p>First trade:</p>
         <p>{{dashboard.maxDate | date: 'dd-MM-yyyy'}} ({{dashboard.calcTime(dashboard.maxDate)}} days ago)</p>
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col-md-4 indicator" id="profit" [ngStyle]="{'color':(dashboard.actual/dashboard.totalInv)>1 ? 'green' : 'red' }">
      <span class="text-area">
      {{((this.dashboard.actual/dashboard.totalInv)*100)>100 ? 'Profit: +'+((dashboard.actual/dashboard.totalInv)*100-100).toFixed(2)
        : 'Loss -'+((dashboard.totalInv/dashboard.actual)*100-100).toFixed(2)}}%
      </span>
    </div>

    <div class="col-md-4 indicator" id="currentBalance">
      <span class="text-area">
        Actual value: {{dashboard.actual }}$
      </span>
    </div>
    <div class="col-md-4">
      <span class="text-area">
       <p> Last trade:</p>
         <p>{{dashboard.minDate| date: 'dd-MM-yyyy'}} ({{dashboard.calcTime(dashboard.minDate)}} days ago)</p>
      </span>
    </div>
  </div>
    <div class="container invList">
    <p class="title1">List of trades</p>
    <div class="descriptionList">
      <div class="row"> Index</div>
      <div class="row"> Asset name</div>
      <div class="row"> Value ($)</div>
      <div class="row"> Price ($)</div>
      <div class="row"> Amount</div>
      <div class="row"> Date of bought</div>
    </div>
    <ul class="trade col" *ngFor="let trade of dashboard.records$ | async; let i = index">
      <li>{{i+1}}</li>
      <li>{{trade.coinName.toUpperCase()}}</li>
      <li>{{(trade.priceusd*trade.quantity).toFixed(2)}}</li>
      <li>{{trade.priceusd}}</li>
      <li>{{trade.quantity}}</li>
      <li>{{trade.date | date: 'dd-MM-yyyy'}}</li>
    </ul>
  </div>
</div>
